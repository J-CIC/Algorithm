## 数字1的个数

> 数位DP模板

```cpp
class Solution {
public:
    int dp[30][30];//记忆
    int dfs(vector<int> input,int pos,int cnt,bool limits){
        if(pos==input.size()){
            return cnt;
        }
        if(!limits && dp[pos][cnt]) return dp[pos][cnt];
        int ans = 0;
        int up=limits?input[pos]:9;
        for(int i=0;i<=up;i++){
            ans += dfs(input,pos + 1,cnt + (i==1) ,limits&&input[pos]==i);
        }
        if(!limits) dp[pos][cnt] = ans; //当前位为0~9的情况进行记忆
        return ans;
    }
    int countDigitOne(int n) {
        if(n<=0){
            return 0;
        }
        memset(dp,0,sizeof(dp));
        string num = to_string(n);
        vector<int> input(num.size(),0);
        for(int i=0;i<num.size();i++){
            input[i] = num[i] - '0';
        }
        return dfs(input,0,0,true);
    }
};
```